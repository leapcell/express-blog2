<%- include('base') -%>

    <div class="min-h-screen">
        <main>
            <div class="container mx-auto px-5">
                <section class="flex-col md:flex-row flex items-center md:justify-between mt-16 mb-16 md:mb-12">
                    <a href="/">
                        <h1 class="text-6xl md:text-8xl font-bold tracking-tighter leading-tight md:pr-8">
                            <%= author %>'s blog.
                        </h1>
                    </a>
                    <h4 class="text-center md:text-left text-lg mt-5 md:pl-8">Welcome to my blog - here I share
                        everything that I love.</h4>

                </section>
                <section>
                    <div class="space-y-2 pb-8 pt-6 md:space-y-5">
                        <h1
                            class="text-3xl font-extrabold leading-9 tracking-tight text-gray-900 dark:text-gray-100 sm:text-4xl sm:leading-10 md:text-6xl md:leading-14">
                            <% if(category) {%>
                                <span>
                                    Category:
                                </span>
                                <span
                                    class="text-sky-500 dark:text-teal-400 bg-sky-100 dark:bg-teal-900 rounded-md px-2 py-1 m-2">
                                    <%= category %>
                                </span>
                                <% } else if (query) {%>
                                    <span>
                                        Search:
                                    </span>
                                    <span class="text-sky-500 dark:text-teal-400">
                                        <%= query %>
                                    </span>
                                    <% } %>
                        </h1>
                        <div class="flex items-center justify-center pt-4">
                            <div>
                                <div class="pb-1 text-sm font-semibold text-gray-800 dark:text-gray-100">search for
                                    posts
                                </div>
                                <form class="flex flex-col sm:flex-row" action="/search" method="GET">
                                    <div><input autocomplete="query"
                                            class="bg-white focus:ring-primary-600 md:w-72 lg:w-96 sm:w-48 rounded-md px-4 focus:border-transparent focus:outline-none focus:ring-2 border-gray-300 dark:border-gray-700 border-2 py-2"
                                            style="color: black" id="query-input" placeholder="Enter your query"
                                            required="" type="search" name="query"></label></div>
                                    <div class="mt-2 flex w-full rounded-md shadow-sm sm:mt-0 sm:ml-3">
                                        <button
                                            class="bg-primary-500 w-full rounded-md py-2 px-4 font-medium text-black sm:py-0 hover:bg-primary-700 dark:hover:bg-primary-400 focus:ring-primary-600 focus:outline-none focus:ring-2 focus:ring-offset-2 dark:ring-offset-black"
                                            type="submit">Search</button>
                                    </div>
                                </form>
                            </div>
                        </div>
                    </div>
                </section>
                <% if (latest_post) {%>
                    <section>
                        <div class="mb-8 md:mb-16">
                            <div class="sm:mx-0"><a aria-label="<%= latest_post[" title"] %>"
                                    href="/post/<%= latest_post['record_id'] %>">
                                    <span
                                        style="box-sizing: border-box; display: block; overflow: hidden; width: initial; height: initial; background: none; opacity: 1; border: 0px; margin: 0px; padding: 0px; position: relative; --darkreader-inline-bgimage: none; --darkreader-inline-bgcolor: initial; --darkreader-inline-border-top: initial; --darkreader-inline-border-right: initial; --darkreader-inline-border-bottom: initial; --darkreader-inline-border-left: initial;"
                                        data-darkreader-inline-bgimage="" data-darkreader-inline-bgcolor=""
                                        data-darkreader-inline-border-top="" data-darkreader-inline-border-right=""
                                        data-darkreader-inline-border-bottom=""
                                        data-darkreader-inline-border-left=""><span
                                            style="box-sizing: border-box; display: block; width: initial; height: initial; background: none; opacity: 1; border: 0px; margin: 0px; padding: 50% 0px 0px; --darkreader-inline-bgimage: none; --darkreader-inline-bgcolor: initial; --darkreader-inline-border-top: initial; --darkreader-inline-border-right: initial; --darkreader-inline-border-bottom: initial; --darkreader-inline-border-left: initial;"
                                            data-darkreader-inline-bgimage="" data-darkreader-inline-bgcolor=""
                                            data-darkreader-inline-border-top="" data-darkreader-inline-border-right=""
                                            data-darkreader-inline-border-bottom=""
                                            data-darkreader-inline-border-left=""></span>
                                        <% if(latest_post["cover"]) {%>
                                            <img alt="<%= latest_post['record_id'] %>" sizes="100vw"
                                                src="<%= latest_post['cover'] %>" decoding="async"
                                                data-nimg="responsive"
                                                class="shadow-sm hover:shadow-md transition-shadow duration-200"
                                                style="position: absolute; inset: 0px; box-sizing: border-box; padding: 0px; border: none; margin: auto; display: block;; max-width: 100%;  max-height: 100%; --darkreader-inline-border-top: initial; --darkreader-inline-border-right: initial; --darkreader-inline-border-bottom: initial; --darkreader-inline-border-left: initial;"
                                                data-darkreader-inline-border-top=""
                                                data-darkreader-inline-border-right=""
                                                data-darkreader-inline-border-bottom=""
                                                data-darkreader-inline-border-left="">
                                            <% } %>
                                    </span></a></div>
                        </div>
                        <div class="md:grid md:grid-cols-2 md:gap-x-16 lg:gap-x-8 mb-20 md:mb-28">
                            <div>
                                <h3 class="mb-4 text-4xl lg:text-6xl leading-tight"><a class="hover:underline"
                                        href="/post/<%= latest_post['record_id'] %>">
                                        <%= latest_post["title"] %>
                                    </a></h3>
                                <div class="mb-4 md:mb-0 text-lg"><time>
                                        <%= latest_post['create_time'] %>
                                    </time></div>
                            </div>
                            <div>
                                <p class="text-lg leading-relaxed mb-4">
                                    <%= latest_post["summary"] %>
                                </p>
                            </div>
                        </div>
                    </section>
                    <% } %>
                        <% if(posts.length> 0) {%>
                            <section>
                                <h2 class="mb-8 text-6xl md:text-7xl font-bold tracking-tighter leading-tight">More
                                    Posts
                                </h2>
                                <div
                                    class="grid grid-cols-1 md:grid-cols-2 md:gap-x-16 lg:gap-x-32 gap-y-20 md:gap-y-32 mb-32">
                                    <% for(let [index,post] of posts.entries() || []) { %>
                                        <div>
                                            <div class="mb-5">
                                                <div class="sm:mx-0"><a aria-label="<%= post[" title"] %>"
                                                        href="/post/<%= post['record_id'] %>"><span
                                                                style="box-sizing: border-box; display: block; overflow: hidden; width: initial; height: initial; background: none; opacity: 1; border: 0px; margin: 0px; padding: 0px; position: relative; --darkreader-inline-bgimage: none; --darkreader-inline-bgcolor: initial; --darkreader-inline-border-top: initial; --darkreader-inline-border-right: initial; --darkreader-inline-border-bottom: initial; --darkreader-inline-border-left: initial;"
                                                                data-darkreader-inline-bgimage=""
                                                                data-darkreader-inline-bgcolor=""
                                                                data-darkreader-inline-border-top=""
                                                                data-darkreader-inline-border-right=""
                                                                data-darkreader-inline-border-bottom=""
                                                                data-darkreader-inline-border-left=""><span
                                                                    style="box-sizing: border-box; display: block; width: initial; height: initial; background: none; opacity: 1; border: 0px; margin: 0px; padding: 50% 0px 0px; --darkreader-inline-bgimage: none; --darkreader-inline-bgcolor: initial; --darkreader-inline-border-top: initial; --darkreader-inline-border-right: initial; --darkreader-inline-border-bottom: initial; --darkreader-inline-border-left: initial;"
                                                                    data-darkreader-inline-bgimage=""
                                                                    data-darkreader-inline-bgcolor=""
                                                                    data-darkreader-inline-border-top=""
                                                                    data-darkreader-inline-border-right=""
                                                                    data-darkreader-inline-border-bottom=""
                                                                    data-darkreader-inline-border-left=""></span>
                                                                <% if(post["cover"]) {%>
                                                                    <img alt="<%= post[" title"] %>" sizes="100vw"
                                                                    src="<%= post['cover'] %>"
                                                                        decoding="async" data-nimg="responsive"
                                                                        class="shadow-sm hover:shadow-md
                                                                        transition-shadow
                                                                        duration-200"
                                                                        style="position: absolute; inset: 0px;
                                                                        box-sizing:
                                                                        border-box; padding: 0px; border: none; margin:
                                                                        auto; display: block;;
                                                                        max-width: 100%;
                                                                        max-height: 100%;
                                                                        --darkreader-inline-border-top:
                                                                        initial; --darkreader-inline-border-right:
                                                                        initial;
                                                                        --darkreader-inline-border-bottom: initial;
                                                                        --darkreader-inline-border-left: initial;"
                                                                        data-darkreader-inline-border-top=""
                                                                        data-darkreader-inline-border-right=""
                                                                        data-darkreader-inline-border-bottom=""
                                                                        data-darkreader-inline-border-left="">
                                                                        <% } %>
                                                            </span></a></div>
                                            </div>
                                            <h3 class="text-3xl mb-3 leading-snug"><a class="hover:underline"
                                                    href="/post/<%= post['record_id'] %>">
                                                    <%= post["title"] %>
                                                </a></h3>
                                            <div class="text-lg mb-4"><time>
                                                    <%= post['create_time'] %>
                                                </time>
                                            </div>
                                            <p class="text-lg leading-relaxed mb-4">
                                                <%= post["summary"] %>
                                            </p>
                                        </div>
                                        <% } %>
                                </div>
                            </section>
                            <% } %>
            </div>
        </main>
    </div>

    <%- include('footer') -%>